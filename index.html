<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="./assets/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="./assets/style.css" rel="stylesheet">
    <link href="./assets/prism/prism.css" rel="stylesheet">
    <link href="./assets/line-number/line-number.css" rel="stylesheet">
    <script src="./assets/prism/prism.js"></script>
    <script src="./assets/line-number/line-number.js"></script>

    <title>Code Snippets | Codepress</title>
</head>

<body>

    <div class="ap_wrapper">
        <div class="ap_newDesign left" id="sideBar">
            <div class="inner">
                <div class="logoBox">
                    <span>CodePress</span>
                    <p>Usefull Code Snippets of Wordpress</p>
                </div>
                <ul>
                    <li data-topic="Basic Functions">
                        <a href="javascript:void(0)" onclick="scrollToSection('aa')">
                            1. Basic Functions
                        </a>
                    </li>
                    <li data-topic="Get Logo on Frontend">
                        <a href="javascript:void(0)" onclick="scrollToSection('ab')">
                            2. Get Logo on Frontend
                        </a>
                    </li>
                    <li data-topic="Get Page Featured Image">
                        <a href="javascript:void(0)" onclick="scrollToSection('ac')">
                            3. Get Page Featured Image
                        </a>
                    </li>
                    <li data-topic="Get Blog Lisitng Featured Image">
                        <a href="javascript:void(0)" onclick="scrollToSection('ad')">
                            4. Get Blog Lisitng Featured Image
                        </a>
                    </li>
                    <li data-topic="Get Categories on Single Post">
                        <a href="javascript:void(0)" onclick="scrollToSection('ae')">
                            5. Get Categories on Single Post
                        </a>
                    </li>
                    <li data-topic="Get Tags on Single Post">
                        <a href="javascript:void(0)" onclick="scrollToSection('af')">
                            6. Get Tags on Single Post
                        </a>
                    </li>
                    <li data-topic="Menu Functions">
                        <a href="javascript:void(0)" onclick="scrollToSection('ag')">
                            7. Menu Functions
                        </a>
                        <ul class="innerItems">
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ag1')">
                                    a. Add Custom Class to 'li' in Menu
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ag2')">
                                    b. Add Custom Class to 'menu anchor' in Menu
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ag3')">
                                    c. Override 'Submenu' class in Menu
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ag4')">
                                    d. Add 'Caret for Submenu' in Menu
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li data-topic="Register Sidebar">
                        <a href="javascript:void(0)" onclick="scrollToSection('ah')">
                            8. Register Sidebar
                        </a>
                    </li>
                    <li data-topic="Create Shortcode">
                        <a href="javascript:void(0)" onclick="scrollToSection('ai')">
                            9. Create Shortcode
                        </a>
                    </li>
                    <li data-topic="Get Categories & Sub Categories of Posts">
                        <a href="javascript:void(0)" onclick="scrollToSection('aj')">
                            10. Get Categories & Sub Categories of Posts
                        </a>
                    </li>
                    <li data-topic="Wocommerce">
                        <a href="javascript:void(0)" onclick="scrollToSection('ak')">
                            11. Wocommerce
                        </a>
                        <ul class="innerItems">
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ak1')">
                                    a. Redirect after Login & Registration
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ak2')">
                                    b. Custom Woocommerce Login
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ak3')">
                                    b. Custom Woocommerce Login & registration Form
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ak4')">
                                    c. Logout From Woocommerce
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ak5')">
                                    d. Remove links of single products from products listing
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" onclick="scrollToSection('ak6')">
                                    e. Remove/Reduce Password Security
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li data-topic=" Get file size">
                        <a href="javascript:void(0)" onclick="scrollToSection('al')">
                            12. Get file size
                        </a>
                    </li>

                </ul>
            </div>
        </div>

        <div class="ap_right_box">
            <div class="inner_box">
                <div class="ap_breadCrumbs">
                    <p>
                        Home > <span id="changeTopic">GettingStarted</span>
                    </p>

                    <div id="mobileHamburger">
                        <div class="hamburger" id="hamburger-1">
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                        </div>
                    </div>
                </div>

                <div class="right">
                    <ul>

                        <!--- getting content on front end --->
                        <li id="aa">
                            <div>
                                <span class="text">
                                    # Basic Functions
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Get site URL
get_site_url();

//Get site Title
the_title();

//Get post Permalink
the_permalink();

//Get Post URL
the_post_thumbnail_url();

//Get Post Date
the_date('d M Y');

//Get Author
the_author();

//Get Trim Content
wp_trim_words( get_the_content(), 30, '[...]' );

//Add hyphen to a string
sanitize_title_with_dashes(get_the_title());

//Get Excerpt
the_excerpt();

//Add theme support of Custom Logo
add_theme_support( 'custom-logo', $defaults );

//Add theme support of title tag
add_theme_support( 'title-tag' );
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ab">
                            <div>
                                <span class="text">
                                    # Get Logo on Frontend
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">$custom_logo_id = get_theme_mod( 'custom_logo' );
$custom_logo_url = wp_get_attachment_image_url( $custom_logo_id , 'full' );
echo '&lt;img src="' . esc_url( $custom_logo_url ) . '" alt="Site Logo">';</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ac">
                            <div>
                                <span class="text">
                                    # Get Page Featured Image
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">if (has_post_thumbnail( $post->ID ) ): ?>
    $image = wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), 'single-post-thumbnail');
    echo $image[0];
endif;</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ad">
                            <div>
                                <span class="text">
                                    # Get Blog Listing Featured Image
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">if (is_home() && get_option('page_for_posts') ) {
    $img = wp_get_attachment_image_src(get_post_thumbnail_id(get_option('page_for_posts')),'full');
    $featured_image = $img[0];
    $featured_image;
}</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ae">
                            <div>
                                <span class="text">
                                    # Get categories on single post
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Get categories on single post
global $product;

$terms = get_the_terms( $product->get_id(), 'product_cat' );
foreach ( $terms as $term ) {
    echo $term->name;
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="af">
                            <div>
                                <span class="text">
                                    # Get tags on single post
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Get tags on single post
global $product;

$terms = get_the_terms( $product->get_id(), 'product_tags' );
foreach ( $terms as $term ) {
    echo $term->name;
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>

                        <li id="ag">
                            <div>
                                <span class="text">
                                    # Adding Wordpress Menu
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//first need to register menu in function file  
function register_codepress_menu() {
   register_nav_menu('header-menu',__( 'header' ));
   register_nav_menu('footer-menu',__( 'footer' ));
}

add_action( 'init' , 'register_codepress_menu' );

// add this code where you want to show your menu  
wp_nav_menu(
    array(
        'theme_location'   =>     'header',
        'menu'             =>     'header-menu',
        'menu_class'       =>     'navbar-nav',
        'menu_id'          =>     'primary-menu',
        'container_class'  =>     'menu-inner',
    )
)
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ag1">
                            <div>
                                <span class="text">
                                    # Add class in menu li.
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//add class in li
add_filter ( 'nav_menu_css_class', 'add_class_to_menu_list', 10, 4 );

function add_class_to_menu_list ( $classes, $item, $args, $depth ){
    if ($args->theme_location == 'header') { /**** according to theme location *****/
      $classes[] = 'gc-nav-item'; 
    }
    
    if ($args->theme_location == 'sidebar') { /**** according to theme location *****/
      $classes[] = 'gc-sidebar-item'; 
    }
    return $classes;
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ag2">
                            <div>
                                <span class="text">
                                    # Add class in menu anchor.
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//add class in anchor
add_filter( 'nav_menu_link_attributes', 'add_class_to_list_anchor', 10, 4 );

function add_class_to_list_anchor($atts, $item, $args, $depth) {
    if ($args->theme_location == 'header') { /**** according to theme location *****/
        $atts['class'] = "gc-nav-link";
    }
  return $atts;
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ag3">
                            <div>
                                <span class="text">
                                    # Overide Submenu Class
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//overide submenu class
add_filter( 'nav_menu_submenu_css_class', 'add_sub_menu_class', 10, 4);

function add_sub_menu_class($atts, $args, $depth) {
    if ($args->theme_location == 'sidebar') { /**** according to theme location *****/
        return array('gc-sidebar-submenu');
    }
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ag4">
                            <div>
                                <span class="text">
                                    # Add caret for submenus
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">// add caret for submenus
function aiken_menu_arrow($item_output, $item, $depth, $args) {
    if (in_array('menu-item-has-children', $item->classes)) {
        $arrow = '&lt;span class="subMenuAngle"&gt; &lt;i class="fas fa-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;'; // Change the class to your font icon
        $item_output = str_replace('&lt;/a&gt;', '&lt;/a&gt;'. $arrow .'', $item_output);
    }
    return $item_output;
}
add_filter('walker_nav_menu_start_el', 'aiken_menu_arrow', 10, 4);
</code>
                                </pre>
                                </span>
                            </div>
                        </li>

                        <li id="ah">
                            <div>
                                <span class="text">
                                    # Register Sidebar
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Register Sidebar in function.php
register_sidebar(
    array(
        'name' => _x('Mail Widget', 'backend', 'cargopress-pt'),
        'id' => 'mail-widgets',
        'description' => _x('Header area for Mail ID.', 'backend', 'cargopress-pt'),
        'before_widget' => '<div class="widget  %2$s">',
        'after_widget' => '</div>',
    )
);

// Show on frontend
if (is_active_sidebar('mail-widgets')) {
    dynamic_sidebar('mail-widgets');
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ai">
                            <div>
                                <span class="text">
                                    # Create Shorcode
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Create Shorcode  
function shortcode_function($sc_atts){
    $sc_default = array(
        'id' => '0',
    );
    $sc_page_id = shortcode_atts($sc_default, $sc_atts);
    
    // your code goes here or include any file 
}

add_shortcode( 'shortcode_name' , 'shortcode_function' );
</code>
                                </pre>
                                </span>
                            </div>
                        </li>

                        <!--
                        <li id="aj">
                            <div>
                                <span class="text">
                                    Get categories of Custom Post
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Get categories of custom post 
$args = array(
'type'                     => 'casestudy',
'child_of'                 => 0,
'parent'                   => '',
'orderby'                  => 'name',
'order'                    => 'ASC',
'hide_empty'               => 1,
'hierarchical'             => 1,
'taxonomy'                 => 'categories',
'pad_counts'               => false );
$categories = get_categories($args);

<ul>
    <li>
        <a class="active" data-filter="*" href="javascript:void(0)">
            All Market
        </a>
    </li>
<?php 
    foreach ($categories as $category) {
        $url = get_term_link($category);?>
        
    <li>
        <a class="active" data-filter=".<?php echo $url;?>" href="javascript:void(0)">
            <?php echo $category->name; ?>
        </a>
    </li>

<?php } ?>
</ul>
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
-->

                        <!-- for woocommerce pages -->
                        <li id="aj">
                            <div>
                                <span class="text">
                                    # Get categories and subcategories of post
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Get categories and subcategories of post 
$outlet_type = get_terms(["taxonomy" => "product_cat", "parent" => 0]);
foreach($outlet_type as $outlet){
    $terms = get_terms( 
        array(
            'taxonomy'   => 'product_cat',
            'hide_empty' => false,
            'parent'     => $outlet->term_id
            ) 
    );
    $html .='<span data-id="'.$outlet->term_id.'" value="'.$outlet->name.'">'.$outlet->name.'</span>';
    foreach ( $terms as $term ) {
        $html .='<span data-id="'.$term->term_id.'" value="'.$term->name.'">'.$term->name.'</span>'; 
    }

}
echo $html;
</code>
                                </pre>
                                </span>
                            </div>
                        </li>

                        <li id="ak1">
                            <div>
                                <span class="text">
                                    # Redirect after Login & Registration
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Redirect user after login and registration to shop page
function ap_login_redirect_wc( $redirect, $user ) {
    return home_url('/shop');
}
add_action('woocommerce_login_redirect', 'ap_login_redirect_wc', 10, 2);


function ap_registration_redirect_wc() {
//    wp_logout();
    return home_url('/shop');
}
add_action('woocommerce_registration_redirect', 'ap_registration_redirect_wc', 2);

</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ak2">
                            <div>
                                <span class="text">
                                    # Custom Woocomerce Login
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">/* Shortcode for woocommerce login  */
  
add_shortcode( 'wc_login_form_jags', 'jags_separate_login_form' );
  
function jags_separate_login_form() {
   if ( is_admin() ) return;
   if ( is_user_logged_in() ) return; 
   ob_start();
   woocommerce_login_form( array( 'redirect' => 'https://socialx22.sg-host.com/' ) );
   return ob_get_clean();
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ak3">
                            <div>
                                <span class="text">
                                    # Custom Woocommerce Login & Register Form
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">/* Check my github for complete code */
https://github.com/chauhan07/custom-login-registration-woocomerce
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ak4">
                            <div>
                                <span class="text">
                                    # Logout from Woocommerce
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-html">&lt;!-- Logout Link (add in href) -->
&lt;a href="./my-account/customer-logout/?_wpnonce=2bbbac43a8&customer-logout=true">Logout&lt;/a>
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ak5">
                            <div>
                                <span class="text">
                                    # Remove links of single products from products listing
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">/*** remove single products link ***/
remove_action('woocommerce_before_shop_loop_item', 'woocommerce_template_loop_product_link_open', 10);
remove_action('woocommerce_after_shop_loop_item', 'woocommerce_template_loop_product_link_close', 5);

/*** redirect single product page to shop page  ****/
add_action('wp', 'ts_redirect_product_pages', 99);
function ts_redirect_product_pages()
{

    if (is_product()) {
        wp_safe_redirect(home_url('/shop'));
        exit;
    }
}
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                        <li id="ak6">
                            <div>
                                <span class="text">
                                    # Remove/Reduce Password Security
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">/*** reduce password security ***/
function codepress_min_password_strength( $strength ) {
    return 2;
}
add_filter( 'woocommerce_min_password_strength', 'codepress_min_password_strength', 10, 1 );

/*** reduce password security ***/
function codepress_remove_password_strength() {
    wp_dequeue_script( 'wc-password-strength-meter' );
}
add_action( 'wp_print_scripts', 'codepress_remove_password_strength', 10 );

</code>
                                </pre>
                                </span>
                            </div>
                        </li>

                        <!-- ACF Related -->
                        <li id="al">
                            <div>
                                <span class="text">
                                    # Get file size
                                </span>

                                <span class="function">
                                    <pre class="line-numbers">
<code class="language-php">//Get file size of upladed file using ACF (this method can also used for normal condition)
while( have_rows('ap-zips') ) : the_row(); 
    $images = get_sub_field('photos_zip' );
    $fileSize = $images['filesize'];
    $fileSize = size_format($fileSize, 2);
    echo $images['url'];
    echo $fileSize;
endwhile; 
</code>
                                </pre>
                                </span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="copyRightBox">
            <p>
                &copy; All Right Reserved &reg; 2023 by
                <a href="https://github.com/chauhan07/" target="_blank">Aditya Chauhan</a>
            </p>
        </div>

        <div class="formButton">
            <a href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                <img src="./assets/images/contact.png">
            </a>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <!--modal-dialog-centered , modal-lg-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Contact</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="successMessage">
                            Your data is successfully submitted
                        </div>
                        <form class="ap_form" method="POST" onsubmit="formSubmitFun(event)" name="submit-to-google-sheet" action="https://script.google.com/macros/s/AKfycbyt75q3PLoV36R3aUgmagvqBokoJaXj6mdnlSg9HwIpQ-hOEUOG6Kx3AYpFNv93hmfZDg/exec">
                            <div class="row">
                                <div class="col-12">
                                    <label>
                                        Name
                                        <input type="text" class="form-control" required name="Name">
                                    </label>
                                </div>
                                <div class="col-12">
                                    <label>
                                        Email
                                        <input type="email" class="form-control" required name="Email">
                                    </label>
                                </div>
                                <div class="col-12">
                                    <label>
                                        Message
                                        <textarea class="form-control" required name="Message"></textarea>
                                    </label>
                                </div>
                                <div class="col-12">
                                    <label>
                                        <input type="submit" class="ap_submit" value="Send Message">
                                    </label>
                                </div>
                            </div>

                            <div class="ap_loader">
                                <div class="lds-spinner">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./assets/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="./assets/function.js"></script>

</body>

</html>
